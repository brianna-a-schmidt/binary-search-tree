cmake_minimum_required (VERSION 2.8)

# Raises a FATAL_ERROR if version < 2.8
cmake_minimum_required (VERSION 2.8 FATAL_ERROR)

# We setup the name for our project. After we do that, this will change some
# directories naming convention generated by CMake. We can send the LANG of
# code as second param
project (bst CXX)

SET(CMAKE_CXX_FLAGS "-std=c++11")
# Set the project source dir (just convention)
set( BST_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR} )
set( BST_CMAKE_BINARY_DIR ${CMAKE_CURRENT_BINARY_DIR} )

set (BST_VERSION_MAJOR 1)
set (BST_VERSION_MINOR 0)
set (BST_CMAKE_VERSION_PATCH 0)

include_directories( include )

set( CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/CMake/modules/" )


set( BST_SOURCES
  src/BinarySearchTree.cpp
  src/BinaryNodeTree.cpp
  src/BinaryNode.cpp
  test/main.cpp
)

add_executable( ${PROJECT_NAME} ${BST_SOURCES})

target_link_libraries( ${PROJECT_NAME} ${LIBS} m )

if ( "${CMAKE_C_COMPILER_ID}" STREQUAL "GNU" )
  message( STATUS "Setting the flags for ${CMAKE_C_COMPILER_ID} compiler" )
  add_definitions( --std=c99 )
endif()

if( UNIX )
    set( BST_DEFINITIONS
        "${BST_DEFINITIONS} -Wall -Wextra -Werror -Wno-deprecated-declarations -Wno-unused-parameter -Wno-comment" )
endif()

